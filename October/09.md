### Setting up Next Auth
We add inside `app/api/auth/[...nextauth]/route.ts`

```
import NextAuth from "next-auth"

const handler = NextAuth({
  ...
})

export { handler as GET, handler as POST }
```
### Configuring Google Provider
In the `NextAuth.js` documentation you can find a guide on how to settup `GoogleProvider`, next open `.env` file and paste this code..
`GOOGLE_CLIENT_ID=*******
GOOGLE_CLIENT_SECRET=**********` This will give you access to the google account but you must first follow the steps from the documentation to enable this and get the code.
```
import GoogleProvider from "next-auth/providers/google";
...
providers: [
  GoogleProvider({
    clientId: process.env.GOOGLE_CLIENT_ID,
    clientSecret: process.env.GOOGLE_CLIENT_SECRET
  })
]
...
```
The code on top enables for us to Login with google. Head over to `Navbar.tsx` and add a `<Link>` component.
```
const NavBar = () => {
  return (
    <div className='flex bg-slate-200 p-3 space-x-3'>
      <Link href='/' className='mr-5'>Next.js</Link>
      <Link href='/users'>Users</Link>
      <Link href='/api/auth/signin'>Login</Link>
    </div>
  )
}

export default NavBar;

```
With the add component it should look like this. You can test this by going to the browser and clicking on `Login`. It automactially generates the page with `NextAuth`. Reading the documentation you can implement other providers other than google that can give you the flexibility and not be limited to one type of Login.

### Accessing Sessions on the Client
We first create a `Provider.tsx` file inside a `auth` folder from the root of our app. `app/aut/Provider.tsx`
```
'use client'
import React, { ReactNode } from 'react';
import { SessionProvider } from 'next-auth/react';

const AuthProvider = ({ children}: { children: ReactNode}) => {
  return (
    <SessionProvider>
      {children}
    </SessionProvider>
  )
}

export default AuthProvider
```
This will allow us to render this code below that is wrapped around the body component. 
```
import './globals.css';
import type { Metadata } from 'next';
import { Inter } from 'next/font/google';
import NavBar from './NavBar';
import AuthProvider from './auth/Provider';

const inter = Inter({ subsets: ['latin'] });

export const metadata: Metadata = {
  title: 'Create Next App',
  description: 'Generated by create next app',
};

export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <html lang="en" data-theme="winter">
      <body className={inter.className}>
        <AuthProvider>
          <NavBar />
          <main className="p-5">{children}</main>
        </AuthProvider>
      </body>
    </html>
  );
}
```
This is our `layout.tsx` file located in the root folder. Following this we go to the `Navbar.tsx` component and add a condition as well as the  `useSession` hook. Note that because we used this hook and are also using react context we have to mark it as a client component. It isn't neccessary, this is just an example of how we can access the session on the client.
```
'use client'
import { useSession } from 'next-auth/react'
import Link from 'next/link'
import React from 'react'

const NavBar = () => {
const {status, data: session } = useSession();

  return (
    <div className='flex bg-slate-200 p-3 space-x-3'>
      <Link href='/' className='mr-5'>Next.js</Link>
      <Link href='/users'>Users</Link>
      { status === 'loading' && <div>Loading...</div>}
      { status === 'authenticated' && <div>{session.user!.name}</div>}
      { status === 'unauthenticated' && <Link href='/api/auth/signin'>Login</Link>}
    </div>
  )
}

export default NavBar;
```
